(this["webpackJsonpreact-charts-builder-example"]=this["webpackJsonpreact-charts-builder-example"]||[]).push([[0],{181:function(e,a,t){e.exports=t(337)},182:function(e,a,t){},336:function(e,a,t){},337:function(e,a,t){"use strict";t.r(a);t(182);var n=t(0),l=t.n(n),r=t(42),c=t.n(r),u=t(116),i=t(17),s=t(94),o=t(339),m=t(340),d=t(344),f=t(43),y=t(44),p=t(75),b=t(87),h=t(61),E=t(345),v=t(88),g=t(348),k=t(171),O=t(73),j=t(346),C=t(89),w=t(349),K=t(175),N=t(159),V=t.n(N),D={pie:["#ffa860","#a8d8a8","#3090c0","#f07848","#60c0a8","#a8c0a8","#ff6060","#f0f0a8","#483030","#786048"],bar:["#ffa860","#a8d8a8","#3090c0","#f07848","#a8c0a8"],line:["#ffa860","#a8d8a8","#3090c0","#f07848","#a8c0a8"],area:["#f07848","#a8d8a8","#3090c0","#a8c0a8","#ffa860"]},S=[{key:"pie",name:"Pie"},{key:"donut",name:"Donut"},{key:"line",name:"Line"},{key:"bar",name:"Bar"},{key:"stackedBar",name:"Stacked Bar"},{key:"column",name:"Column"},{key:"stackedColumn",name:"Stacked Column"},{key:"area",name:"Area"}],T=[{name:"Most popular",charts:["pie","bar","line","area"]},{name:"Pie",charts:["pie","donut"]},{name:"Line",charts:["line"]},{name:"Bar",charts:["bar"]},{name:"Column",charts:["column"]},{name:"Area",charts:["area"]}],x=function(e){var a=e.data,t=e.stacked,n=e.showCartesianGrid,r=void 0===n||n;return l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(m.a,{width:300,height:300,data:a},r&&l.a.createElement(d.a,{vertical:!1,strokeDasharray:"3 3"}),l.a.createElement(f.a,{dataKey:"label"}),l.a.createElement(y.a,null),l.a.createElement(p.a,null),Object.keys(a[0]).length>2?Object.keys(a[0]).map((function(e){return"label"!==e?l.a.createElement(b.a,{key:e,stackId:t?"stacked":e,dataKey:e}):null})):l.a.createElement(b.a,{dataKey:"value",fill:D.bar[0]},a.map((function(e,a){return l.a.createElement(h.a,{key:"cell-".concat(a),fill:D.bar[a%D.bar.length]})})))))},A=function(e){var a=e.data,t=e.showCartesianGrid,n=void 0===t||t;return l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(E.a,{width:300,height:300,data:a},n&&l.a.createElement(d.a,{vertical:!1,strokeDasharray:"3 3"}),l.a.createElement(f.a,{dataKey:"label"}),l.a.createElement(y.a,null),l.a.createElement(p.a,null),Object.keys(a[0]).map((function(e,a){return"label"!==e?l.a.createElement(v.a,{key:e,type:"monotone",dataKey:e,stroke:D.line[a]}):null}))))},F=function(e){var a=e.data,t=e.data2;return t?l.a.createElement(o.a,{width:"100%",debounce:2,aspect:2},l.a.createElement(g.a,{width:300,height:300},l.a.createElement(k.a,{data:a,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:"60%",fill:D.pie[0]}),l.a.createElement(k.a,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"70%",outerRadius:"80%",fill:D.pie[1],label:!0}),l.a.createElement(p.a,null))):l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(g.a,{width:300,height:300},l.a.createElement(k.a,{data:a,dataKey:"value",nameKey:"label",fill:D.pie[0],label:!0,labelLine:!1},a.map((function(e,a){return l.a.createElement(h.a,{key:"cell-".concat(a),fill:D.pie[a%D.pie.length]})}))),l.a.createElement(p.a,null),l.a.createElement(O.a,null)))},B=function(e){var a=e.data,t=e.showCartesianGrid,n=void 0===t||t;return l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(j.a,{width:300,height:300,data:a},n&&l.a.createElement(d.a,{strokeDasharray:"3 3"}),l.a.createElement(f.a,{dataKey:"label"}),l.a.createElement(y.a,null),l.a.createElement(p.a,null),Object.keys(a[0]).map((function(e,a){return"label"!==e?l.a.createElement(C.a,{key:"key",type:"monotone",dataKey:e,stroke:D.area[a],fill:D.area[a]}):null}))))},L=function(e){var a=e.data,t=e.def;return l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(w.a,{width:300,height:300,data:a},l.a.createElement(d.a,{strokeDasharray:"3 3"}),l.a.createElement(f.a,{dataKey:"name"}),l.a.createElement(y.a,null),l.a.createElement(p.a,null),l.a.createElement(O.a,null),Object.keys(t).map((function(e,a){return"area"===t[e]?l.a.createElement(C.a,{type:"monotone",dataKey:e,stroke:D.area[a],fill:D.area[a]}):"bar"===t[e]?l.a.createElement(b.a,{dataKey:e,fill:D.bar[a]}):"line"===t[e]?l.a.createElement(v.a,{type:"monotone",dataKey:e,stroke:D.line[a]}):null}))))},R=function(e){return!!e&&Array.isArray(e)},G=function(e){return e.map((function(e){return{label:e,value:e}}))},I=function(e,a){var t=e.filter((function(e){return e.value===a}));return t.length>0?t[0]:null},P=function(e){var a=e.data;return l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(g.a,{width:300,height:300},l.a.createElement(k.a,{data:a,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"80%",fill:D.pie[1],label:!0,labelLine:!1},a.map((function(e,a){return l.a.createElement(h.a,{key:"cell-".concat(a),fill:D.pie[a%D.pie.length]})}))),l.a.createElement(p.a,null),l.a.createElement(O.a,null)))},J=function(e){var a=e.data,t=e.stacked,n=e.showCartesianGrid,r=void 0===n||n;return l.a.createElement(o.a,{width:"100%",debounce:5,aspect:2},l.a.createElement(m.a,{layout:"vertical",width:300,height:300,data:a},r&&l.a.createElement(d.a,{horizontal:!1,strokeDasharray:"3 3"}),l.a.createElement(f.a,{type:"number"}),l.a.createElement(y.a,{dataKey:"label",type:"category"}),l.a.createElement(p.a,null),Object.keys(a[0]).length>2?Object.keys(a[0]).map((function(e){return"label"!==e?l.a.createElement(b.a,{key:e,stackId:t?"stacked":e,dataKey:e}):null})):l.a.createElement(b.a,{dataKey:"value"},a.map((function(e,a){return l.a.createElement(h.a,{key:"cell-".concat(a),fill:D.bar[a%D.bar.length]})})))))},M=function(e){var a=e.data,t=e.className;return l.a.createElement("div",{className:"chart-container ".concat(null!==t&&void 0!==t?t:"")},R(a.data)&&a.data.length>0&&function(e){var a=e.type,t=e.data,n=e.data2,r=e.def;switch(a){case"pie":return l.a.createElement(F,{data:t,data2:n});case"donut":return l.a.createElement(P,{data:t});case"bar":return l.a.createElement(x,{data:t});case"column":return l.a.createElement(J,{data:t});case"bar_stacked":return l.a.createElement(x,{data:t,stacked:!0});case"line":return l.a.createElement(A,{data:t});case"area":return l.a.createElement(B,{data:t});case"composed":return l.a.createElement(L,{data:t,def:r||{}});default:return null}}({type:a.type,data:a.data,data2:a.data2,def:a.def}))},X=[{name:"Labels",type:"collapse",settings:[{key:"label",type:"select",valueType:"string",defaultValue:function(e){return W(e)[0]||null},isClearable:!1}]},{name:"Values",type:"collapse",settings:[{key:"value",type:"select",label:"Chart Value",valueType:"number",defaultValue:function(e){return _(e)[0]||null},isClearable:!0},{key:"aggregate",label:"Calculation Function",type:"radio"}]}],Y=[{name:"X Axis",type:"collapse",settings:[{key:"label",type:"select",valueType:"string",defaultValue:function(e){return W(e)[0]||null},isClearable:!1}]},{name:"Y Axis",type:"collapse",settings:[{key:"value",type:"select",label:"Chart Value",valueType:"number",defaultValue:function(e){return _(e)[0]||null},isClearable:!0},{key:"aggregate",label:"Calculation Function",type:"radio"}]}],z=[{name:"Y Axis",type:"collapse",settings:[{key:"label",type:"select",valueType:"string",defaultValue:function(e){return W(e)[0]||null},isClearable:!1}]},{name:"X Axis",type:"collapse",settings:[{key:"value",type:"select",label:"Chart Value",valueType:"number",defaultValue:function(e){return _(e)[0]||null},isClearable:!0},{key:"aggregate",label:"Calculation Function",type:"radio"}]}],W=function(e){return R(e)?Object.keys(e[0]).filter((function(a){return"string"===typeof e[0][a]})):[]},_=function(e){return R(e)?Object.keys(e[0]).filter((function(a){return"number"===typeof e[0][a]})):[]},q=function(e){var a=e.title,t=e.children,r=e.collapse,c=e.onChange,u=Object(n.useState)(r||!1),s=Object(i.a)(u,2),o=s[0],m=s[1];Object(n.useEffect)((function(){"undefined"!==typeof r&&m(r)}),[r]);return l.a.createElement("div",{className:"collapse ".concat(o?"":"open")},l.a.createElement("div",{className:"title",onClick:function(){"undefined"===typeof r&&m(!o),"function"===typeof c&&c(!o)}},a," ",l.a.createElement("span",{className:"arrow"})),l.a.createElement(V.a,{easing:"ease",duration:500,height:o?0:"auto"},l.a.createElement("div",{className:"controls"},t)))},H=function(e){var a=e.data,t=e.settings,r=e.onSettingChange,c=Object(n.useState)(t||{}),o=Object(i.a)(c,2),m=o[0],d=o[1],f=Object(n.useState)("chartType"),y=Object(i.a)(f,2),p=y[0],b=y[1],h=Object(n.useState)([]),E=Object(i.a)(h,2),v=E[0],g=E[1],k=Object(n.useState)((null===t||void 0===t?void 0:t.chart)||"pie"),O=Object(i.a)(k,2),j=O[0],C=O[1];Object(n.useEffect)((function(){g(N())}),[j]),Object(n.useEffect)((function(){var e=V();if(t){var a=Object(u.a)({},t);delete a.chart,e=function(e,a){var t={};for(var n in e)t[n]="undefined"===typeof a[n]?e[n]:a[n];return t}(e,a)}d(e)}),[v,j]),Object(n.useEffect)((function(){var e;(e=r)&&"function"===typeof e&&r(m)}),[m]);var w=function(e,a){b(e?null:a)},N=function(){switch(j){case"pie":case"donut":return X;case"line":case"area":case"bar":return Y;case"column":return z;default:return[]}},V=function(){var e=function e(a){var t=[];return a.map((function(a){t="collapse"===a.type?[].concat(Object(s.a)(t),Object(s.a)(e(a.settings))):[].concat(Object(s.a)(t),[a])})),t}(v),t={chart:j};return e.map((function(e){var n=e.defaultValue;"function"===typeof e.defaultValue&&(n=e.defaultValue(a)),t[e.key]=n||null})),t},D=function e(t){var r=t.defaultValue;switch("function"===typeof t.defaultValue&&(r=t.defaultValue(a)),t.type){case"collapse":return t.settings.length>0?l.a.createElement(q,{title:t.name,collapse:p!==t.name,onChange:function(e){return w(e,t.name)}},t.settings.map((function(a,r){return l.a.createElement(n.Fragment,{key:t.type+a.key+r},e(a))}))):null;case"select":var c=[];return"string"===t.valueType?c=G(W(a)):"number"===t.valueType&&(c=G(_(a))),l.a.createElement("div",{className:"setting-controls"},t.label&&l.a.createElement("label",{className:"controls-label"},t.label),l.a.createElement(K.a,{value:I(c,"undefined"===typeof m[t.key]?r:m[t.key]),isClearable:t.isClearable,options:c,onChange:function(e){return function(e,a){var t=Object(u.a)({},m);(function(e){if(e)for(var a in e)return!1;return!0})(t)&&(t=V()),t.hasOwnProperty(e)&&(t[e]=a,d(t))}(t.key,(null===e||void 0===e?void 0:e.value)||null)}}));default:return null}};return l.a.createElement("div",{className:"builder-settings"},l.a.createElement("h1",{className:"settings-header"},"Settings"),l.a.createElement("div",{className:"setting-items"},l.a.createElement(q,{title:"Chart Type",collapse:"chartType"!==p,onChange:function(e){return w(e,"chartType")}},T.map((function(e,a){return l.a.createElement("div",{key:e.name+a,className:"chart-category"},l.a.createElement("div",{className:"category-title"},e.name),l.a.createElement("div",{className:"chart-list"},e.charts.map((function(e,a){var t,n,r=(t="key",n=e,S.find((function(e){return e[t]===n})));return l.a.createElement("div",{key:a+e,className:"chart-item",onClick:function(){return C(e)}},r.name)}))))}))),v.map((function(e,a){return l.a.createElement(n.Fragment,{key:e.name+a},D(e))}))))},Q=function(e){var a=e.data,t=e.settingData,r=void 0===t?null:t,c=e.onSettingChange,u=void 0===c?function(){}:c,s=Object(n.useState)({type:"pie",data:[]}),o=Object(i.a)(s,2),m=o[0],d=o[1],f=Object(n.useState)(r||{}),y=Object(i.a)(f,2),p=y[0],b=y[1];Object(n.useEffect)((function(){var e={type:p.chart,data:[]};if(Object.keys(p).length>1)switch(p.chart){case"pie":case"donut":e.data=function(e,a,t){return e.map((function(e){return{label:e[a],value:e[t]||0}}))}(a,p.label,p.value);break;case"line":case"area":case"bar":case"column":e.data=function(e,a,t){return e.map((function(e){return{label:e[a],value:e[t]||0}}))}(a,p.label,p.value)}d(e)}),[p]);return l.a.createElement("div",{className:"chart-builder"},l.a.createElement(M,{data:m}),l.a.createElement(H,{data:a,settings:p,onSettingChange:function(e){b(e),u(e)}}))},U=(t(336),function(){return l.a.createElement("div",{style:{margin:"10px auto",width:"80vw",border:"1px solid #ccc"}},l.a.createElement(Q,{data:[{name:"Sun",date:"1 Dec",sales:2400,profit:400},{name:"Mon",date:"2 Dec",sales:2210,profit:300},{name:"Tue",date:"3 Dec",sales:2290,profit:100},{name:"Wed",date:"3 Dec",sales:2e3,profit:700},{name:"Thu",date:"3 Dec",sales:2181,profit:200},{name:"Fri",date:"4 Dec",sales:2500,profit:900},{name:"Sat",date:"4 Dec",sales:2100,profit:100}],settingData:{chart:"pie",label:"date",value:"sales",aggregate:null}}))});c.a.render(l.a.createElement(U,null),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.132fce0c.chunk.js.map